<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>As the Crow flies</title>


    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap custom CSS -->
    <link href="css/custom.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="carousel.css" rel="stylesheet">
  </head>
<!-- NAVBAR
================================================== -->
  <body>
    <div class="navbar-wrapper">
      <div class="container">

        <nav class="navbar navbar-inverse navbar-static-top">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="#page-header-top">Steve Pentler</a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
              <ul class="nav navbar-nav">
                <li><a href="#page-header-top">Main</a></li>
                <li><a href="#biography-info">Biography</a></li>
                <li class="dropdown">
                  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Projects<span class="caret"></span></a>
                  <ul class="dropdown-menu">
                    <li><a href="https://github.com/stevepentler">Development: Github Projects</a></li>
                    <li><a href="#Capybara_testing">Development: Capybara</a></li>
                    <li><a href="#Shoulda-Matchers"> Development: Shoulda Matchers</a></li>
                    <li role="separator" class="divider"></li>
                    <li class="dropdown-header">Personal Projects/Interests</li>
                    <li><a href="#adventure_forward">Adventure Forward</a></li>
                    <li><a href="#skiboarding1">Skiboarding</a></li>
                  </ul>
                </li>
              </ul>
            </div>
          </div>
        </nav>

      </div>
    </div>

<!-- Jumbotron -->
    <div class="jumbotron">
      <div class="container">
      </div>
    </div>

    <div class="container">
      <div class="page-header" id="page-header-top">
        <h1><strong>Steve Pentler</strong></h1>
        <p><i>"If you try hard and believe in yourself, any pizza can be a personal pizza."</i></p>
      </div>
    </div>

    <!-- Circular Headings
    ================================================== -->
    <!-- Wrap the rest of the page in another container to center all the content. -->

    <div class="container marketing">

      <!-- Three columns of text below the carousel -->
      <div class="row">
        <div class="col-lg-4">
          <a href="http://turing.io/">
            <img class="img-circle" src="images/Turing.png" alt="Turing School of Software and Design" width="200" height="200" >
          </a>
          <h2>Development</h2>
          <p>My latest projects on Github</p>
          <p><a class="btn btn-default" href="https://github.com/stevepentler" role="button">GitHub &raquo;</a></p>
        </div>
        <div class="col-lg-4">
          <a href="https://www.facebook.com/steven.pentler">
            <img class="img-circle" src="images/HeadshotPentler.jpg" alt="Headshot" width="200" height="200">
          </a>
          <h2>My Story</h2>
          <p>What led me to Turing.</p>
          <p><a class="btn btn-default" href="#biography-info" role="button">Biography &raquo;</a></p>
        </div><!-- /.col-lg-4 -->
        <div class="col-lg-4">
          <img id="Crow" src="images/Crow.png" alt="Crow" width="200" height="200">
          <h2>Projects</h2>
          <p>Skiboarding, Experiential Education, etc. </p>
          <p><a class="btn btn-default" href="#adventure_forward" role="button">Details &raquo;</a></p>
        </div><!-- /.col-lg-4 -->
      </div><!-- /.row -->

      <!-- START THE FEATURETTES -->

      <hr class="gradient">

      <div id='biography-info' class="row featurette">
        <div class="col-md-7">
          <h2 class="featurette-heading">Biography. <span class="text-muted">The life of the crow.</span></h2>
          <p class="lead"><a href="https://www.youtube.com/watch?time_continue=14&v=FFTbHJo4h-o">NOLS</a> --> <a href='https://www.facebook.com/CeibaFoundation/videos/10153381650719558/'> Ecuador </a>--> <a href ='https://www.youtube.com/watch?v=veHQMaxiOmg'>University of Wisconsin</a> --> <a href='http://www.cityyear.org/denver'>City Year Denver</a> --> <a href='https://www.youtube.com/watch?v=l_wLFRsFd7k'>Adventure Forward</a> --> <a href='http://turing.io/'>Turing School for Software and Design</a><br></p>
          <p class="lead">Did some stuff, now it's web development or bust!</p>
        </div>
        <div class="col-md-5">
          <img class="featurette-image img-responsive center-block" src="images/CrowFlight.png" alt="Crow Flight">
        </div>
      </div>

      <hr class="gradient">

      <div class="row featurette">
        <div class="col-md-7 col-md-push-5">
          <h2 id="adventure_forward" class="featurette-heading">Project I <span class="text-muted">Adventure Forward.</span></h2>
          <p class="lead">Want to help underserved students get their first mountain experiences?<br><a href='https://www.facebook.com/adventureforward/?fref=ts'>Adventure Forward</a> --> <i>The first organization to combine classroom support with Adventure Education.</i> Click the logo to see what we do!
          </p>
          <div class="AFlogo">
            <a href='https://www.youtube.com/watch?v=l_wLFRsFd7k'>
              <img src='images/AF.png' height="200">
            </a>
          </div>
        </div>
        <div class="col-md-5 col-md-pull-7">
          <img class="featurette-image img-responsive center-block" src="images/CrowFlightReverse.png" alt="Crow Flight">
        </div>
      </div>

      <hr class="gradient">

      <div class="row featurette">
        <div class="col-md-7">
          <h2 id="skiboarding1" class="featurette-heading">Project II <span class="text-muted">SkiBoarding 3.0.</span></h2>
          <p class="lead">Let's see what gifts El Ni√±o brings. Start the pow wow with this segment from <i>Into the Mind</i> - Crows and Big Lines.</p>
          <div class="Mind">
            <a href ='https://www.youtube.com/watch?v=pOlxcpXW2V0'>
              <img id="Mind" src='images/IntoTheMind.jpg' height="350">
            </a>
          </div>
        </div>
        <div class="col-md-2">
        </div>
        <div class="col-md-5">
          <img class="featurette-image img-responsive center-block" src="images/CrowFlight.png" alt="Crow Flight">
        </div>
      </div>
      </div>

      <hr class="gradient">

      <div id="post1" class="row featurette">
      <div class="col-md-7 col-md-push-5">
        <h2 id="Capybara_testing" class="featurette-heading">Capybara testing <span class="text-muted">interact like your audience!</span></h2>
        <p class="lead">You've made a dope website, but how do you test it from an end-user's perspective? Checkout <a href='https://rubygems.org/gems/capybara/versions/2.5.0'><strong>Capybara</strong></a>!</p>
        <p class="lead"> In short, Capybara is a ruby gem that allows developers to write tests that <i>interact with a web application like a user</i>. You can perform quality control and simulate user interaction by clicking buttons & links, filling in forms, and navigating through the site.</p>
      </div>


      <div class="col-md-5 col-md-pull-7">
        <img class="featurette-image img-responsive center-block" src="images/CrowFlightReverse.png" alt="Crow Flight">
      </div>

      <div id="commands" class = "lead container">
        </p>
        <p class='blog1_text'>First, take a peek at some of the basic commands. For more commands, checkout out this <a href='https://upcase.com/test-driven-rails-resources/capybara.pdf'><i>cheatsheet</i></a>.<br></a> 
        <img src='blog1_images/basic_commands.png' alt='basic commands' width="600">
      </div>

      <div class = "lead container">
        <p> The image below shows what testing looks like in practice with a user story framework. In this example we are able to navigate to a page, click a link, fill in a form, submit the form. Then we verify our input using the Capybara specific test assertion "has_content."</p>
        <p> Take special note of the within command, which is used to define the scope of the code you interact with. In this example, within uses a loop to reference only the form that has the CSS id of "edit form." This is especially important if you have multiple forms, links, or buttons on the same page. <br> </a>
        <img  src='blog1_images/example.png' alt='Example test' width="auto" height="500">
      </div>

      <div class = "lead container">
        <p> If you're still getting an Ambiguous match error, your first instinct should be to scope with greater specificity. Create a unique CSS identifier and use a within loop.
        <p> This is a more specific example of scoping from a different project. Notice how we find the ordered list (ol) with the id of <i>#most_pop_referrers_list</i>. Then we further specify that we want the list item's <i>(li) nth-child(#)</i>, where # is the number of the list element. For example, <i>'ol#most_pop_referrers_list li:nth-child(1)</i>' will scope the second element of the list. Then it will check for the turing url: <i>"http://turing.io (2)</i>" </p> 
      </a> <img src='blog1_images/scoping_2.png' alt='More Scoping' width="auto" height="500">
      </div>

      <div id="linking" class="lead container">
        <p class='blog1_text'><strong>Installation:</strong> Make sure you have the Capybara gem installed and bundled in your test/development environment. If you are using Rails with MiniTest, head to your test_heler.rb file. Require 'capybara/rails' at the top. Next, define a class that inherits from Minitest, and include Capybara::DSL. Note that in the first test above, the UserEditsTask testing class inherits from FeatureTest as opposed to Minitest::Test. That's because the FeatureTest inherits from Minitest, thus it includes Capybara::DSL.<br></a> <img  src='blog1_images/test_helper.png' alt='linking in test_helper' width="auto" height="150">
        </p><br>
        <p><strong>Pro Tip:</strong> The most frustrating error with Capybara is generally due to scoping issues. Head to your Gemfile and require the <i>gem 'launchy'</i> in your test development environment. Next, insert <strong>save_and_open_page</strong> into your test (generally the line before it fails) and run your test. Launchy will open a display page in your browser so you can see what's happening. Next, right click on the area you're interested in and select "inspect element." This will give you access to the CSS components you can use for scoping.</p>
        <p><strong>Pro Tip:</strong> It's good practice to assert the page you are viewing on the route you'd expect. Do this with: <br><strong>assert_equal expected_path(variable), current_path</strong> <br> Modify the expected_path(variable) to what you expect. The "variable" is any variable that is necessary for the route to display, such as an object that rails can pull an id from.</p> 
      </div>

      <div class="lead container">
      <p class='blog1_text'>There's much more to explore with Capybara, but hopefully by now you understand that it can be a powerful tool for feature testing. If you're goal is a positive user experience, get to work with Capybara!</p>
      

    <hr class="gradient">
        <div class="lead container">
        <div class="row featurette">
        <div class="col-md-7">
          <h2 id="Shoulda-Matchers" class="featurette-heading">Shoulda Matchers <span class="text-muted">Simplify Validation Tests</span></h2>
          <p class="lead">Are you sick of writing tests to validate your models, or just gifted with solid one-liners? Check out <a href='http://matchers.shoulda.io/'><strong>shoulda-matchers</strong></a>!</p>
          <p class="lead"> Shoulda matchers is a gem that allows developers to simplify validation testing with a new suite of testing methods called <i>matchers</i>. Accordingly, validations can generally be tested in one clean line rather than lengthy, redundant tests.</p>
      </div>
        <div class="col-md-2">
        </div>
        <div class="col-md-5">
          <img class="featurette-image img-responsive center-block" src="images/CrowFlight.png" alt="Crow Flight">
        </div>
      </div>
      </div>

      <div id="commands" class = "lead container">
        </p>
        <p class='blog1_text'>First, take a peek at the matchers methods you will use in your specs. Checkout out the <a href='http://matchers.shoulda.io/'><i>cheatsheet</i></a> too.<br></a> 
        <img src='blog2_images/matchers.png' alt='matchers' width="800">

      <div class = "lead container">
        <p> Now for an example. We define our validations in the model. The goal here is to ensure that a Resort Object can not be added to the database unless it meets all of the criteria defined in the validations. Ideally, we want Rails to throw an error if any of the validations aren't met.
          <br><br>
           In each model, we define the validations. Each Resort Object must have the presence of a name, image_path, trail_map_path, etc. Further, the name, image_path, and trail_map_path must be unique in this scenario.<br>
        <br><img  src='blog2_images/model_validations.png' alt='model validations' width="800" height="auto"><br>

        <p> These validations are fantastic if they work, but we want to <i>verify our verifications</i> with some tests in the resort_spec.rb (resort_test.rb in MiniTest). Without Shoulda Matchers, we would have to write specific tests for each validation that fulfill all of the criteria except for the validation we want to test. This is cumbersome and violates the DRY principle. Shoulda Matchers allows a uniform, clear, and short format. The following example is an RSpec example, but it's rather <strong>boring</strong> because the tests all pass. All of the validations are fulfilled.<br>
        <br><img  src='blog2_images/model_validations_spec.png' alt='model validations test' width="800" height="auto"><br>

        <br><p> Now, the main event! We are more interested in what happens to the site when all of the validations are NOT fulfilled. If a Resort Object is created or updated, but doesn't meet these specifications, we want a test to fail and notify you of the missing or incorrect attribute.<br>
        <br> Notice that we have a validation for :something_that_doesnt_exist. The test will fail because we are expecting a Resort Object to have this attribute, but it doesn't exist in the schema, nor is this attribute ever associated with the Resort Object. The error is apparent in the failed test in the second image.<br>
        <br><img src='blog2_images/missing_validation.png' alt='invalid attribute example' width="800" height="auto"><br>
        <br><img  src='blog2_images/failed_test.png' alt='failing test' width="800" height="auto"><br>

        <br><p> Shoot! Now you have your models validations, test validations, and a failing test, but you're still getting an error message like the one below! The reason is that Shoulda Matcher validations expect(RSpec) or should(MiniTest) display an error.<br>
        <br><img  src='blog2_images/view_failure.png' alt='expected message failure' width="700" height="auto"><br>


        <br><p> In practice, I prefer to add flashes to display messages during sad path tests. If a new object is being created but doesn't save because it fails a validation, I want a particular error to show up.<br>
        First, add flashes to your app/layouts/application.html.erb file somewhere in the body section. The standard is to place these above the <%= yield %> so it catches the users eye when a form or other information if filled out incorrectly.<br>
        <br><img  src='blog2_images/Flashes.png' alt='flash integration' width="400" height="auto"><br>
        <br>
        <p>Then add flash messages into your controller when you want them to be displayed. Disclaimer, this is from a different, top secret project.</p>
        <br><img  src='blog2_images/controller_flash.png' alt='flash integration in the controller' width="700" height="auto"><br>
        <br><p>Another option is to display the error messages directly in the layout/applicaiton.html.erb file.</p>
        <br><img  src='blog2_images/views.png' alt='views error integration' width="700" height="auto"><br>
        <br>
        <p><strong>Pro Tip:</strong> Remember to update your strong_params private methods if you start requiring an attribute that wasn't previously part of a form or is new to the schema. I spent about an hour tracing a bug back to the fact that I hadn't updated the permitted attributes.</p>

       <br><p><strong>Installation:</strong><br>
        For RSpec: First, place gem 'shoulda-matchers' in the test environment of your Gemfile. Don'f forget to Bundle. Then head over to your rails_helper.rb file and insert the following lines of code. Don't forget to add the error flashes in your controllers as you proceed. 
        <br>
        <br><img  src='blog2_images/configuration.png' alt='configuring test helper' width="700" height="auto">
        <br><p>If you are using MiniTest, you will need to install both: <br>gem 'shoulda', '~> 3.5' 
        <br>gem 'shoulda-matchers', '~> 2.0' 
        <br>
        MiniTest does not require any additional setup once these two gems are installed and bundled. The functionality is the same, except you will use "should validate..." in place of the "it {is_expected_to validate...}." Don't forget to add the error flashes in your controllers as you proceed. </p>
        <br>
        <p><strong>Pro Tip:</strong> If you are using MiniTest, DO NOT put the validations inside of a test. Nest them right under the model or you will get an error along the lines of "undefined method: should." See the example below.</p><br>
        <br><img src='blog2_images/minitest_example.png' alt='MiniTest Example' width="600" height="auto"><br>
      </div>
    </div>

      <hr class="gradient">

      <!-- /END THE FEATURETTES -->

      <!-- FOOTER -->
      <container>
        <footer>
          <p class="pull-right"><a href="#page-header-top">Back to top</a></p>
          <p>Steve Pentler 2015 &middot; <a href="#">Privacy</a> &middot; <a href="#">Terms</a></p>
        </footer>
      </container>

    </div><!-- /.container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!--// <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script> -->
    <script src="js/app.js"></script>
    <script src="js/bootstrap.min.js"></script>
  </body>
</html>
